# Приложение для управления контактами

Простое приложение для управления контактами, созданное с использованием Vue.js и Express.js. Приложение позволяет пользователям добавлять, редактировать, удалять и искать контакты. Включает валидацию форм, маскирование номера телефона, сохранение данных с помощью `localStorage` и базовые анимации. Юнит-тесты написаны с использованием Jest и Vue Test Utils.

## Содержание

- [Особенности](#особенности)
- [Используемые технологии](#используемые-технологии)
- [Предварительные требования](#предварительные-требования)
- [Установка](#установка)
- [Запуск сервера (Express API)](#запуск-сервера-express-api)
- [Запуск клиента (Vue.js приложение)](#запуск-клиента-vuejs-приложение)
- [Запуск тестов](#запуск-тестов)
- [Структура проекта](#структура-проекта)
- [Подходы и принятые решения](#подходы-и-принятые-решения)

## Особенности

- **Добавление, редактирование и удаление контактов**: Полный функционал для управления списком контактов.
- **Поиск контактов**: Функционал для поиска контактов по имени в реальном времени.
- **Валидация форм**: Проверка обязательных полей и корректности формата email.
- **Маскирование номера телефона**: Использование `imask` для форматирования номера телефона в российском формате `+7 (000) 000-00-00`.
- **Сохранение данных**: Контакты сохраняются в `localStorage` и синхронизируются с backend API.
- **Анимации**: Плавные анимации при добавлении и удалении контактов с помощью Vue transitions.
- **Юнит-тестирование**: Компоненты протестированы с использованием Jest и Vue Test Utils.

## Используемые технологии

- **Frontend**:
  - [Vue.js 3](https://vuejs.org/) - Прогрессивный JavaScript-фреймворк.
  - [TypeScript](https://www.typescriptlang.org/) - Надмножество JavaScript с типизацией.
  - [imask](https://imask.js.org/) - Библиотека для маскирования ввода.
- **Backend**:
  - [Express.js](https://expressjs.com/) - Веб-фреймворк для Node.js.
  - [Node.js](https://nodejs.org/) - Среда выполнения JavaScript.
- **Тестирование**:
  - [Jest](https://jestjs.io/) - Фреймворк для тестирования JavaScript.
  - [Vue Test Utils](https://next.vue-test-utils.vuejs.org/) - Официальные утилиты для тестирования Vue.js.
  - [@testing-library/vue](https://testing-library.com/docs/vue-testing-library/intro/) - Утилиты для тестирования компонентов Vue.

## Предварительные требования

- **Node.js**: Версия 14.x или выше.
- **npm**: Менеджер пакетов Node.js, поставляется вместе с Node.js.

## Установка

1. **Клонируйте репозиторий**:

   ```bash
   git clone https://github.com/VovaLenin/touch-on.git
   cd touch-on
   ```

2. **Установите зависимости для клиента**:

   ```bash
   cd frontend
   npm install
   ```

3. **Установите зависимости для сервера**:

   ```bash
   cd ../backend
   npm install
   ```

## Запуск сервера (Express API)

1. **Перейдите в директорию сервера**:

   ```bash
   cd backend
   ```

2. **Запустите сервер**:

   ```bash
   node index.js
   ```

3. **Детали сервера**:

   - Сервер будет запущен по адресу `http://localhost:3000`.
   - Доступные API-эндпоинты:
     - `GET /contacts`: Получить все контакты.
     - `POST /contacts`: Добавить новый контакт.
     - `PUT /contacts/:id`: Обновить существующий контакт.
     - `DELETE /contacts/:id`: Удалить контакт.

## Запуск клиента (Vue.js приложение)

1. **Перейдите в директорию клиента**:

   ```bash
   cd frontend
   ```

2. **Запустите сервер разработки**:

   ```bash
   npm run serve
   ```

3. **Откройте приложение**:

   - Откройте браузер и перейдите по адресу `http://localhost:8080`.

## Запуск тестов

1. **Перейдите в директорию клиента**:

   ```bash
   cd frontend
   ```

2. **Запустите юнит-тесты**:

   ```bash
   npm run test
   ```

   - Это запустит все тесты, расположенные в директории `tests`.

## Структура проекта

```plaintext
touch-on/
├── frontend/               # Frontend-приложение на Vue.js
│   ├── src/
│   │   ├── components/   # Компоненты Vue
│   │   ├── App.vue       # Корневой компонент
│   │   ├── main.ts       # Точка входа
|   |   ├── tests/        # Юнит-тесты
│   │   └── ...           # Другие исходные файлы
│   ├── package.json
│   └── ...
├── backend/               # Backend API на Express.js
│   ├── index.js          # Точка входа сервера API
│   ├── package.json
│   └── ...
├── README.md
└── ...
```

## Подходы и принятые решения

### Frontend

- **Компонентная архитектура**: Приложение разделено на переиспользуемые компоненты (`ContactForm`, `ContactList`, `ContactItem`, `SearchBar`), что повышает модульность и повторное использование кода.
- **TypeScript**: Использование статической типизации для повышения надежности кода и облегчения его поддержки.
- **Валидация форм**: Реализована пользовательская логика валидации внутри `ContactForm.vue` для обеспечения целостности данных.
- **Маскирование номера телефона**: Использование `imask` для улучшения пользовательского опыта при вводе номера телефона.
- **Управление состоянием**: Использование реактивных свойств `ref` и `computed` для управления состоянием внутри компонентов.
- **Анимации**: Применение `<transition-group>` для плавной анимации добавления и удаления контактов.
- **Интеграция с localStorage**: Реализовано сохранение данных в `localStorage` для сохранения контактов между сессиями.
- **Обработка ошибок**: Включена базовая обработка ошибок для управления сбоями API и ошибками валидации.

### Backend

- **API на Express.js**: Простой RESTful API-сервер для обработки CRUD-операций с контактами.
- **Хранение данных в памяти**: Контакты хранятся в памяти для упрощения. В реальном приложении это можно заменить на базу данных.
- **Включен CORS**: Настроен для разрешения кросс-доменных запросов от клиентского приложения.

### Тестирование

- **Jest**: Используется как фреймворк для тестирования из-за его простоты и богатого функционала.
- **Vue Test Utils**: Предоставляет утилиты для эффективного тестирования компонентов Vue.
- **Покрытие тестами**: Написаны юнит-тесты для компонентов, таких как `ContactItem.vue`, чтобы убедиться в их корректной работе.
  Тесты проверяют:

1. **Рендеринг контактной информации**: Проверка, что данные о контакте (имя, телефон и email) отображаются корректно.
2. **Эмитирование события редактирования**: Убедились, что при нажатии на кнопку "Edit" событие `edit` эмитируется с правильными данными.
3. **Эмитирование события удаления**: Проверили, что при нажатии на кнопку "Delete" событие `delete` эмитируется с идентификатором контакта.
